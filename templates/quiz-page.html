<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/bootstrap.min.css">
    <link rel="stylesheet" href="../static/style.css">    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Quiz Application</title>
    
    <!-- Add your other stylesheets, scripts, or meta tags as needed -->
</head>
<body class="body">
    <header>
        <nav class="navbar navbar-expand-md navbar-light bg-light rounded">
            <a class="navbar-brand" id="portfolioTitle" href="index.html">Cemil's Portfolio</a>
            <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link">Quiz Application</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
  
    <div class="spacer"></div> <!-- Add space between header and block -->

    <div class="quiz-block">
        <div class="question-container">
            <h2 id="screen">Welcome to the quiz app, please login/sign in to solve a quiz.</h2>
        </div>
        <div class="options">
            <div class="option">
                <button id="button1" class="option-button" onclick="getData('button1')"> <i class="fa-solid fa-caret-right fa-3x"></i> </button>
                <p id="buton1" class="option-text"> Select quiz to solve. </p>
            </div>
            <div class="option">
                <button id="button2" class="option-button" onclick="getData('button2')"> <i class="fa-solid fa-caret-right fa-3x"></i> </button>
                <p id="buton2" class="option-text"> Review quiz scores.</p>
            </div>
            <div class="option">
                <button id="button3" class="option-button" onclick="getData('button3')"> <i class="fa-solid fa-caret-right fa-3x"></i> </button>
                <p id="buton3" class="option-text"></p>
            </div>
            <div class="option">
                <button id="button4" class="option-button" onclick="getData('button4')"> <i class="fa-solid fa-caret-right fa-3x"></i> </button>
                <p id="buton4" class="option-text"></p>
            </div>
            <div class="option">
                <button id="button5" class="option-button" onclick="getData('button5')"> <i class="fa-solid fa-caret-right fa-3x"></i> </button>
                <p id="buton5" class="option-text"></p>
            </div>
        </div>
    </div>
   
    <script>
            function getData(buttonId) {
            fetch(`/button_clicked/${buttonId}`)
                .then(response => response.json()) // was response => response.text()
                .then(data => {
                    updateScreen(data);
                    updateButtonTexts(data)
                    // console.log(data);
                });
        }
        // try to fix array data fetch correctly
        function updateScreen(text) {
            document.getElementById('screen').innerText = text.data[0];
        }

        function updateButtonTexts(text) {
            // document.getElementById(buttonId).innerText = text;
            for (var i = 1; i <= 5; i++) {
                var buttonId = "buton" + i.toString();
                document.getElementById(buttonId).innerText = text.data[i];

                // buttonElement.innerText = text;
            }
        }
    </script>
    
</body>
</html>